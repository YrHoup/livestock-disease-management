{% extends 'base.html' %}

{% block title %}Predict Disease{% endblock %}

{% block content %}
    <h2>Disease Prediction</h2>
    <form method="post">
        <div class="form-group">
            <label for="animal_type">Animal Type:</label>
            <select id="animal_type" name="animal_type" required>
                <option value="Cow">Cow</option>
                <option value="Dog">Dog</option>
                <option value="Cat">Cat</option>
            </select>
        </div>

        <div class="form-group">
            <label for="breed">Breed:</label>
            <input type="text" id="breed" name="breed" required>
        </div>

        <div class="form-group">
            <label for="age">Age (years):</label>
            <input type="number" id="age" name="age" step="0.1" required>
        </div>

        <div class="form-group">
            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select>
        </div>

        <div class="form-group">
            <label for="weight">Weight (kg):</label>
            <input type="number" id="weight" name="weight" step="0.1" required>
        </div>

        <div class="form-group">
            <label for="temperature">Body Temperature (Â°C):</label>
            <input type="number" id="temperature" name="temperature" step="0.1" value="38.5" required>
        </div>

        <div class="form-group">
            <label for="heart_rate">Heart Rate (bpm):</label>
            <input type="number" id="heart_rate" name="heart_rate" required>
        </div>

        <div class="form-group">
            <label for="duration">Duration of Symptoms (days):</label>
            <input type="number" id="duration" name="duration" value="1" min="1" step="1">
        </div>

        <h3>Symptoms</h3>
        <p>Select up to 4 symptoms:</p>

        <div class="form-group">
            <label for="symptom1">Symptom 1:</label>
            <select id="symptom1" name="symptom1">
                <option value="">None</option>
                <option value="Appetite loss">Appetite loss</option>
                <option value="Vomiting">Vomiting</option>
                <option value="Diarrhea">Diarrhea</option>
                <option value="Coughing">Coughing</option>
                <option value="Difficulty breathing">Difficulty breathing</option>
                <option value="Lameness">Lameness</option>
                <option value="Skin rash">Skin rash</option>
                <option value="Nasal Discharge">Nasal Discharge</option>
                <option value="Eye Discharge">Eye Discharge</option>
                <option value="Fever">Fever</option>
                <option value="Lethargy">Lethargy</option>
                <option value="Swelling">Swelling</option>
            </select>
        </div>

        <div class="form-group">
            <label for="symptom2">Symptom 2:</label>
            <select id="symptom2" name="symptom2">
                <option value="">None</option>
                <option value="Appetite loss">Appetite loss</option>
                <option value="Vomiting">Vomiting</option>
                <option value="Diarrhea">Diarrhea</option>
                <option value="Coughing">Coughing</option>
                <option value="Difficulty breathing">Difficulty breathing</option>
                <option value="Lameness">Lameness</option>
                <option value="Skin rash">Skin rash</option>
                <option value="Nasal Discharge">Nasal Discharge</option>
                <option value="Eye Discharge">Eye Discharge</option>
                <option value="Fever">Fever</option>
                <option value="Lethargy">Lethargy</option>
                <option value="Swelling">Swelling</option>
            </select>
        </div>

        <div class="form-group">
            <label for="symptom3">Symptom 3:</label>
            <select id="symptom3" name="symptom3">
                <option value="">None</option>
                <option value="Appetite loss">Appetite loss</option>
                <option value="Vomiting">Vomiting</option>
                <option value="Diarrhea">Diarrhea</option>
                <option value="Coughing">Coughing</option>
                <option value="Difficulty breathing">Difficulty breathing</option>
                <option value="Lameness">Lameness</option>
                <option value="Skin rash">Skin rash</option>
                <option value="Nasal Discharge">Nasal Discharge</option>
                <option value="Eye Discharge">Eye Discharge</option>
                <option value="Fever">Fever</option>
                <option value="Lethargy">Lethargy</option>
                <option value="Swelling">Swelling</option>
            </select>
        </div>

        <div class="form-group">
            <label for="symptom4">Symptom 4:</label>
            <select id="symptom4" name="symptom4">
                <option value="">None</option>
                <option value="Appetite loss">Appetite loss</option>
                <option value="Vomiting">Vomiting</option>
                <option value="Diarrhea">Diarrhea</option>
                <option value="Coughing">Coughing</option>
                <option value="Difficulty breathing">Difficulty breathing</option>
                <option value="Lameness">Lameness</option>
                <option value="Skin rash">Skin rash</option>
                <option value="Nasal Discharge">Nasal Discharge</option>
                <option value="Eye Discharge">Eye Discharge</option>
                <option value="Fever">Fever</option>
                <option value="Lethargy">Lethargy</option>
                <option value="Swelling">Swelling</option>
            </select>
        </div>

        <button type="submit">Predict</button>
    </form>

    {% if prediction %}
        <div class="result">
            <h3>Prediction: {{ prediction }}</h3>
            <p>Confidence: {{ probability }}</p>

            {% if details %}
                <div class="details">
                    <p>{{ details.message }}</p>
                    <h4>Recommendations:</h4>
                    <ul>
                        {% for rec in details.recommendations %}
                            <li>{{ rec }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
        </div>
    {% endif %}

    {% if error %}
        <div class="error">
            <p>{{ error }}</p>
        </div>
    {% endif %}
{% endblock %}